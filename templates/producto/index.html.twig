{% extends 'base.html.twig' %}

{% block title %}Listado de productos{% endblock %}

{% block body %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
    body {
        font-family: 'Segoe UI', Roboto, sans-serif;
    }

    .producto-wrapper {
        max-width: 1000px;
        margin: 3em auto;
        padding: 2em;
        background-color: #fff;
        border-radius: 16px;
        box-shadow: 0 8px 24px rgba(0,0,0,0.1);
    }

    .producto-wrapper h1 {
        font-size: 2em;
        margin-bottom: 1.5em;
        text-align: center;
        color: #333;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 2em;
    }
    td{
        color:gray;
    }
    th, td {
        padding: 0.9em;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }

    th {
        background-color: #f1f1f1;
        font-weight: 600;
        color: #444;
    }

    tr:hover {
        background-color: #f9f9f9;
    }

    td:nth-child(5) {
        font-weight: bold;
        color: #1976d2;
    }

    .actions a {
        margin-right: 0.5em;
        text-decoration: none;
        color: #1976d2;
        font-weight: 500;
    }

    .actions a:hover {
        text-decoration: underline;
    }

    .create-link {
        display: inline-block;
        margin-top: 1em;
        padding: 0.6em 1.2em;
        background-color: #1976d2;
        color: #fff;
        border-radius: 8px;
        text-decoration: none;
        font-weight: 500;
        transition: background-color 0.3s ease;
    }

    .create-link:hover {
        background-color: #125ea2;
    }

    @media screen and (max-width: 600px) {
        .producto-wrapper {
            padding: 1.5em;
            margin: 1.5em auto;
        }

        .producto-wrapper h1 {
            font-size: 1.5em;
        }

        table, thead, tbody, th, td, tr {
            display: block;
        }

        thead {
            display: none;
        }

        tr {
            margin-bottom: 1em;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
            padding: 1em;
        }

        td {
            padding: 0.4em 0;
            color: #333;
        }

        td:nth-child(1)::before { content: "ID: "; font-weight: bold; }
        td:nth-child(2)::before { content: "Nombre: "; font-weight: bold; }
        td:nth-child(3)::before { content: "Precio: "; font-weight: bold; }
        td:nth-child(4)::before { content: "Descuento: "; font-weight: bold; }
        td:nth-child(5)::before { content: "Total: "; font-weight: bold; color: #1976d2; }
        td:nth-child(6)::before { content: "Acciones: "; font-weight: bold; }
    }
</style>

<div class="producto-wrapper">
    <h1><i class="fas fa-boxes"></i> Productos</h1>

    <table>
        <thead>
            <tr>
                <th>Id</th>
                <th>Nombre</th>
                <th>Precio</th>
                <th>Descuento</th>
                <th>Total</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
        {% for producto in productos %}
            <tr>
                <td>{{ producto.id }}</td>
                <td>{{ producto.nombre }}</td>
                <td>${{ producto.precio|number_format(2, '.', ',') }}</td>
                <td>{{ producto.descuento }}%</td>
                <td>${{ producto.total|number_format(2, '.', ',') }}</td>
                <td class="actions">
                    <a href="{{ path('app_producto_show', {'id': producto.id}) }}"><i class="fas fa-eye"></i> Ver</a>
                    <a href="{{ path('app_producto_edit', {'id': producto.id}) }}"><i class="fas fa-edit"></i> Editar</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="6" style="text-align:center; padding:2em; color:#777;">No hay productos registrados.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a class="create-link" href="{{ path('app_producto_new') }}"><i class="fas fa-plus"></i> Crear nuevo producto</a>
</div>
{% endblock %}
