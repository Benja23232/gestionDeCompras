{% extends 'base.html.twig' %}

{% block title %}Log in!{% endblock %}

{% block body %}
<style>
    body {
        font-family: 'Segoe UI', Roboto, sans-serif;
    }

    .login-wrapper {
        max-width: 400px;
        margin: 4em auto;
        padding: 2.5em;
        background-color: #ffffff;
        border-radius: 16px;
        box-shadow: 0 8px 24px rgba(0,0,0,0.1);
    }

    .login-wrapper h1 {
        font-size: 1.8em;
        margin-bottom: 1.5em;
        text-align: center;
        color: #333;
    }

    label {
        display: block;
        margin-bottom: 0.5em;
        font-weight: 600;
        color: #555;
    }

    input[type="email"],
    input[type="password"] {
        width: 100%;
        padding: 0.8em;
        margin-bottom: 1.2em;
        border: 1px solid #ccc;
        border-radius: 8px;
        font-size: 1em;
        background-color: #f9f9f9;
    }

    .checkbox {
        margin-bottom: 1.5em;
        color: #555;
    }
    
  .btn-primary {
    width: 100%;
    padding: 0.8em;
    font-size: 1em;
    border: 2px solid #1976d2;
    border-radius: 8px;
    color: #ffffff;
    background-color: #1976d2;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-primary:hover {
    background-color: #e3f2fd;
    border-color: #1565c0;
    color: #1565c0;
}


    .btn-crear {
        display: block;
        margin-top: 1em;
        text-align: center;
        color:#6d6a6b;
        text-decoration: none;
        font-weight: 600;
    }

    .btn-crear:hover {
        text-decoration: underline;
    }

    .alert-danger {
        background-color: #f8d7da;
        color: #721c24;
        padding: 1em;
        border-radius: 8px;
        margin-bottom: 1.5em;
        font-size: 0.95em;
    }

    .mb-3 {
        margin-bottom: 1.5em;
        font-size: 0.95em;
        color: #555;
    }

    @media screen and (max-width: 480px) {
        .login-wrapper {
            margin: 2em 1em;
            padding: 2em;
            border-radius: 12px;
        }

        .login-wrapper h1 {
            font-size: 1.5em;
        }

        input[type="email"],
        input[type="password"] {
            font-size: 0.95em;
        }

        .btn-primary {
            font-size: 0.95em;
            color:white;
        }
    }
</style>

<div class="login-wrapper">
    {% if error %}
        <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
    {% endif %}

    {% if app.user %}
        <div class="mb-3">
            Ya estás logueado como <strong>{{ app.user.userIdentifier }}</strong>. <a href="{{ path('app_logout') }}">Cerrar sesión</a>
        </div>
    {% endif %}

    <h1>Por favor ingresa tus datos</h1>

    <form method="post">
        <label for="inputEmail">Email</label>
        <input type="email" value="{{ last_username }}" name="email" id="inputEmail" autocomplete="email" required autofocus>

        <label for="inputPassword">Contraseña</label>
        <input type="password" name="password" id="inputPassword" autocomplete="current-password" required>

        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

        <div class="checkbox">
            <label>
                <input type="checkbox" name="_remember_me"> Recuérdame
            </label>
        </div>

        <button class="btn btn-primary" type="submit">Ingresar</button>

        <a href="{{ path('app_register') }}" class="btn-crear">Crear nuevo usuario</a>
    </form>
</div>
{% endblock %}
